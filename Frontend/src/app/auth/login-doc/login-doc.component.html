<p-toast [life]="3000" />
<div
  class="bg-[url('/login-doc-bg.jpeg')] bg-center bg-cover w-full min-h-screen flex flex-col justify-center items-center p-4"
>
  <div
    class="flex flex-col md:flex-row bg-backcol shadow-2xl w-full max-w-sm md:max-w-2xl lg:max-w-4xl rounded-xl md:h-auto lg:h-3/4 overflow-hidden"
  >
    <img
      src="/login-doc.png"
      alt="Login illustration"
      class="hidden md:block md:w-1/2 lg:w-5/12 rounded-xl object-cover"
    />
    <div
      class="flex flex-col p-5 sm:p-6 md:p-8 justify-center items-center w-full md:w-1/2 lg:w-7/12 gap-3 md:gap-4"
    >
      <form
        #docForm="ngForm"
        (ngSubmit)="onSubmit()"
        class="flex flex-col w-full items-center justify-center gap-4 md:gap-5"
      >
        <p class="font-semibold font-title text-2xl sm:text-3xl text-black">
          Welcome!
        </p>

        <!-- Email Input -->
        <p-iconfield>
          <p-inputicon><i class="pi pi-envelope"></i></p-inputicon>
          <input
            pInputText
            id="email"
            name="email"
            [(ngModel)]="doctor.email"
            type="email"
            placeholder="Email"
            required
            email
            #email="ngModel"
          />
        </p-iconfield>

        @if ( (formSubmitted() || email.touched) && email.invalid) { @if
        (email.hasError('required')) {
        <p-message
          severity="error"
          variant="outlined"
          text="Email is required"
          [closable]="true"
          size="small"
          icon="pi pi-ban"
        ></p-message>
        } @if (email.hasError('email')) {
        <p-message
          severity="error"
          variant="outlined"
          text="Invalid email format"
          [closable]="true"
          size="small"
          icon="pi pi-ban"
        ></p-message>
        } }

        <!-- Password Input -->
        <p-password
          name="password"
          [(ngModel)]="doctor.password"
          placeholder="Password"
          required
          [toggleMask]="true"
          [minlength]="6"
          [feedback]="true"
          #password="ngModel"
        />

        @if ((formSubmitted() || password.touched) && password.invalid ) { @if
        (password.hasError('required')) {
        <p-message
          severity="error"
          variant="outlined"
          text="Password is required"
          [closable]="true"
          icon="pi pi-ban"
          size="small"
        ></p-message>
        } @if (password.hasError('minlength')) {
        <p-message
          severity="error"
          variant="outlined"
          text="Minimum 6 characters are required"
          [closable]="true"
          size="small"
          icon="pi pi-ban"
        ></p-message>
        } }

        <p-button type="submit" label="Submit"></p-button>
      </form>
      <p
        routerLink="/register-doctor"
        class="text-gray-600 text-sm cursor-pointer hover:underline mt-4 md:mt-6"
      >
        Signup?
      </p>
    </div>
  </div>
</div>
